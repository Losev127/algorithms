<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Упорядоченный массив</title>
</head>
<body>
    <h1>Упорядоченный массив</h1>
    <h3>Создание упорядоченного массива</h3>
    <label for="arraySize">Введите размер массива: </label>
    <input type="number" id="arraySize" placeholder="Размер массива">
    <button onclick="createOrderedArray()">Создать упорядоченный массив</button>

    <div id="result"></div>

    <h3>Операции с упорядоченным массивом</h3>
    <label for="searchElement">Двоичный поиск элемента: </label>
    <input type="number" id="searchElement" placeholder="Элемент для поиска">
    <button onclick="searchElement()">Найти</button>

    <label for="insertElement">Элемент для вставки: </label>
    <input type="number" id="insertElement" placeholder="Элемент для вставки">
    <button onclick="insertElement()">Вставить</button>

    <label for="deleteElement">Элемент для удаления: </label>
    <input type="number" id="deleteElement" placeholder="Элемент для удаления">
    <button onclick="deleteElement()">Удалить</button>

    <script>
        let array = [];

        function createOrderedArray() {
            let size = document.getElementById('arraySize').value;
            array = [];
            for (let i = 0; i < size; i++) {
                array.push(i + 1);
            }
            document.getElementById('result').innerText = `Создан упорядоченный массив: ${array}`;
        }

        function binarySearch(array, element) {
            // это объявление функции с именем binarySearch, которая принимает два параметра:
            // array (массив, в котором будет производиться поиск) и element (элемент, который нужно найти в массиве).
          
            let left = 0;
            //это объявление переменной left и инициализация ее значением 0. Переменная left будет использоваться для хранения индекса левой границы интервала поиска.

            let right = array.length - 1;
            // это объявление переменной right и инициализация ее значением array.length - 1.
            // Переменная right будет использоваться для хранения индекса правой границы интервала поиска.


            while (left <= right) {
                // это цикл while, который будет выполняться, пока левая граница интервала поиска не превысит правую.
                // Это обеспечивает выполнение поиска в указанном интервале.

                let mid = Math.floor((left + right) / 2);
                // это объявление переменной mid и инициализация ее значением Math.floor((left + right) / 2),
                // что представляет собой индекс середины текущего интервала поиска.

                if (array[mid] === element) {
                    return mid;
                    // это условие, проверяющее, равен ли элемент, находящийся в середине интервала поиска, заданному элементу.
                    // Если да, то функция возвращает индекс найденного элемента.

                } else if (array[mid] < element) {
                    left = mid + 1;
                    // это условие, проверяющее, является ли элемент, находящийся в середине интервала поиска, меньшим,
                    // чем заданный элемент. Если да, то левая граница интервала обновляется на значение mid + 1.

                } else {
                    right = mid - 1;
                }
                // это ветвь else, которая выполняется, если ни одно из предыдущих условий не выполняется.
                // В этом случае правая граница интервала обновляется на значение mid - 1.
            }
            return -1;
        }
        // это выражение return, которое возвращает -1 в случае, если заданный элемент не был найден в массиве.


        function searchElement() {
            let element = Number(document.getElementById('searchElement').value);
            let index = binarySearch(array, element);
            if (index !== -1) {
                // выражение, которое проверяет, был ли найден заданный элемент в массиве.
                // Если значение переменной index не равно -1, то это означает, что элемент был найден,
                // и выполняется блок кода внутри if. Если значение переменной index равно -1, то это означает,
                // что элемент не был найден, и выполняется блок кода внутри else.
                alert(`Элемент ${element} найден по индексу ${index}`);
            } else {
                alert(`Элемент ${element} не найден`);
            }
        }

        function insertElement() {
            let element = Number(document.getElementById('insertElement').value);
            let index = 0;
            // это объявление переменной index и инициализация ее значением 0.
            // Переменная index будет использоваться для хранения индекса,
            // на котором должен быть вставлен новый элемент в отсортированный массив.

            while (index < array.length && array[index] < element) {
                index++;
            }
            // Это цикл while, который будет выполняться, пока выполняются два условия:
            // индекс index меньше длины массива и значение элемента массива с индексом index
            // меньше значения элемента, который мы хотим вставить. Цель этого цикла - найти
            // правильное место для вставки нового элемента в отсортированный массив.

            array.splice(index, 0, element);
            // Это вызов метода splice для массива array, который вставляет новый элемент element в массив на позицию index.
            // Аргументы метода splice означают: index (индекс, на котором произойдет вставка), 0 (количество элементов,
            // которые следует удалить перед вставкой), element (новый элемент, который будет вставлен).
            
            document.getElementById('result').innerText = `Массив после вставки: ${array}`;
        }

        function deleteElement() {
            let element = Number(document.getElementById('deleteElement').value);
            let index = binarySearch(array, element);
            if (index !== -1) {
                array.splice(index, 1);
                document.getElementById('result').innerText = `Массив после удаления: ${array}`;
            } else {
                alert(`Элемент ${element} не найден в массиве`);
            }
        }
    </script>
</body>
</html>
